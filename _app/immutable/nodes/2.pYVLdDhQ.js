import{s as ne,n as W,r as le,o as oe,f as Y}from"../chunks/scheduler.pBk8f1Dc.js";import{S as se,i as re,e as A,s as I,h as L,z as ae,a as y,f as p,c as M,g as Z,j as C,k as R,p as H,l as b,b as E,A as F,m as z,B as K}from"../chunks/index.719ebnNj.js";const ie=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function j(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const he=!0,we=Object.freeze(Object.defineProperty({__proto__:null,prerender:he},Symbol.toStringTag,{value:"Module"})),{document:V}=ie;function G(t,e,l){const n=t.slice();return n[15]=e[l][0],n[0]=e[l][1],n}function Q(t,e,l){const n=t.slice();return n[18]=e[l],n[20]=l,n}function X(t,e,l){const n=t.slice();return n[21]=e[l],n}function ue(t){let e,l=t[15].sex=="m"?"Moški":"Ženske",n,r,a=t[15].league+"",h,o;return{c(){e=A("th"),n=L(l),r=I(),h=L(a),this.h()},l(u){e=y(u,"TH",{class:!0,rowspan:!0});var s=C(e);n=R(s,l),r=M(s),h=R(s,a),s.forEach(p),this.h()},h(){H(e,"class","league"),H(e,"rowspan",o=t[0].length)},m(u,s){E(u,e,s),b(e,n),b(e,r),b(e,h)},p(u,s){s&8&&l!==(l=u[15].sex=="m"?"Moški":"Ženske")&&z(n,l),s&8&&a!==(a=u[15].league+"")&&z(h,a),s&8&&o!==(o=u[0].length)&&H(e,"rowspan",o)},d(u){u&&p(e)}}}function x(t){let e,l=t[21]+"",n,r,a,h;function o(){return t[11](t[21])}function u(){return t[12](t[21])}return{c(){e=A("td"),n=L(l),this.h()},l(s){e=y(s,"TD",{class:!0});var i=C(e);n=R(i,l),i.forEach(p),this.h()},h(){H(e,"class",r=Y(te(t[21],t[4],t[1]))+" svelte-1rbidj5")},m(s,i){E(s,e,i),b(e,n),a||(h=[F(e,"mouseenter",o),F(e,"click",u)],a=!0)},p(s,i){t=s,i&8&&l!==(l=t[21]+"")&&z(n,l),i&26&&r!==(r=Y(te(t[21],t[4],t[1]))+" svelte-1rbidj5")&&H(e,"class",r)},d(s){s&&p(e),a=!1,le(h)}}}function $(t){let e,l,n,r=(t[15].rank||1)+t[20]+"",a,h,o=t[20]===0&&ue(t),u=j(t[18]),s=[];for(let i=0;i<u.length;i+=1)s[i]=x(X(t,u,i));return{c(){e=A("tr"),o&&o.c(),l=I(),n=A("th"),a=L(r),h=I();for(let i=0;i<s.length;i+=1)s[i].c()},l(i){e=y(i,"TR",{});var f=C(e);o&&o.l(f),l=M(f),n=y(f,"TH",{});var c=C(n);a=R(c,r),c.forEach(p),h=M(f);for(let v=0;v<s.length;v+=1)s[v].l(f);f.forEach(p)},m(i,f){E(i,e,f),o&&o.m(e,null),b(e,l),b(e,n),b(n,a),b(e,h);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null)},p(i,f){if(i[20]===0&&o.p(i,f),f&8&&r!==(r=(i[15].rank||1)+i[20]+"")&&z(a,r),f&90){u=j(i[18]);let c;for(c=0;c<u.length;c+=1){const v=X(i,u,c);s[c]?s[c].p(v,f):(s[c]=x(v),s[c].c(),s[c].m(e,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=u.length}},d(i){i&&p(e),o&&o.d(),K(s,i)}}}function ee(t){let e,l,n=j(t[0]),r=[];for(let a=0;a<n.length;a+=1)r[a]=$(Q(t,n,a));return{c(){e=A("tbody");for(let a=0;a<r.length;a+=1)r[a].c();l=I()},l(a){e=y(a,"TBODY",{});var h=C(e);for(let o=0;o<r.length;o+=1)r[o].l(h);l=M(h),h.forEach(p)},m(a,h){E(a,e,h);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);b(e,l)},p(a,h){if(h&90){n=j(a[0]);let o;for(o=0;o<n.length;o+=1){const u=Q(a,n,o);r[o]?r[o].p(u,h):(r[o]=$(u),r[o].c(),r[o].m(e,l))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(a){a&&p(e),K(r,a)}}}function ce(t){let e,l,n,r="Ludus beach liga razvrstitev",a,h,o,u,s,i,f,c,v,w,D,N="<tr><th></th> <th>#</th> <th>1. krog</th> <th>2. krog</th> <th>3. krog</th> <th>4. krog</th> <th>5. krog</th> <th>6. krog</th> <th>7. krog</th></tr>",O,m,T,S=j(t[3]),d=[];for(let g=0;g<S.length;g+=1)d[g]=ee(G(t,S,g));return{c(){e=A("meta"),l=I(),n=A("h1"),n.textContent=r,a=I(),h=A("i"),o=L("Podatki so iz "),u=A("span"),s=L(t[5]),i=I(),f=A("button"),c=L("↻"),v=I(),w=A("table"),D=A("thead"),D.innerHTML=N,O=I();for(let g=0;g<d.length;g+=1)d[g].c();this.h()},l(g){const k=ae("svelte-6yrbd1",V.head);e=y(k,"META",{name:!0,content:!0}),k.forEach(p),l=M(g),n=y(g,"H1",{"data-svelte-h":!0}),Z(n)!=="svelte-1wyato1"&&(n.textContent=r),a=M(g),h=y(g,"I",{});var _=C(h);o=R(_,"Podatki so iz "),u=y(_,"SPAN",{});var P=C(u);s=R(P,t[5]),P.forEach(p),i=M(_),f=y(_,"BUTTON",{});var U=C(f);c=R(U,"↻"),U.forEach(p),_.forEach(p),v=M(g),w=y(g,"TABLE",{id:!0});var B=C(w);D=y(B,"THEAD",{"data-svelte-h":!0}),Z(D)!=="svelte-77dht8"&&(D.innerHTML=N),O=M(B);for(let J=0;J<d.length;J+=1)d[J].l(B);B.forEach(p),this.h()},h(){V.title="Ludus Beach Liga Razvrstitev",H(e,"name","description"),H(e,"content","Podrobnosti o poteku Ludus beach lige."),f.disabled=t[2],H(w,"id","leaderboard")},m(g,k){b(V.head,e),E(g,l,k),E(g,n,k),E(g,a,k),E(g,h,k),b(h,o),b(h,u),b(u,s),b(h,i),b(h,f),b(f,c),E(g,v,k),E(g,w,k),b(w,D),b(w,O);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(w,null);m||(T=[F(f,"click",t[7]),F(w,"mouseleave",t[13])],m=!0)},p(g,[k]){if(k&32&&z(s,g[5]),k&4&&(f.disabled=g[2]),k&90){S=j(g[3]);let _;for(_=0;_<S.length;_+=1){const P=G(g,S,_);d[_]?d[_].p(P,k):(d[_]=ee(P),d[_].c(),d[_].m(w,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=S.length}},i:W,o:W,d(g){g&&(p(l),p(n),p(a),p(h),p(v),p(w)),p(e),K(d,g),m=!1,le(T)}}}function te(t,e,l){const n=q(t);for(let[r,a]of e.entries())if(a!=""&&n.includes(a))return`highlight highlight-${r%4}`;return l!=""&&n.includes(q(l))?`hover-highlight highlight-${e.length%4}`:""}function q(t){return t.toLowerCase().replace(/ /g,"")}function fe(t){return t.split(`\r
`).map(e=>e.split(","))}function ge(t){const e="KONČNA RAZVRSTITEV";for(let l=0;l<t.length;l++)for(let n=0;n<t[l].length;n++)if(t[l][n]==e)return[l,n];return[null,null]}function de(t,e,l){const n=[];l++;for(let r=e+1;r<t.length&&t[r][l]!="";r++)n.push(t[r][l]);return n}function _e(t){const[e,l]=ge(t);return e==null||l==null?[]:de(t,e,l)}function pe(t){const[e,l,n,r,a]=t.split("_");return{sex:e,league:n,round:+a}}function me(t){var h;const e=o=>{const u=o.length,s=o.reduce((f,c)=>Math.max(f,c.length),0),i=Array.from({length:s},()=>Array(u).fill(""));for(let f=0;f<u;f++)for(let c=0;c<o[f].length;c++)i[c][f]=o[f][c];return i},l=[];let n={round:0,league:"",sex:""},r=[],a=1;for(let[o,u,s]of t){if(n.round>s.round){n.rank=a,n.league.endsWith("b")&&(n.rank-=(h=l[l.length-1][1])==null?void 0:h.length);const i=e(r);r=[],a+=i.length,l.push([n,i])}n.sex!=s.sex&&(a=1),r.push(u),n=s}return l.push([n,e(r)]),l}function be(t,e,l){let n,r,a="",h=[],o="1707129537787",u=!1,s=[],i,f;function c(m){const T=q(m),S=n.findIndex(d=>T.includes(d));S==-1?l(8,h=[...h,m]):(h.splice(S,1),l(8,h))}async function v(){let m=localStorage.getItem("dataAge"),T=localStorage.getItem("data");(m==null||T==null)&&(m="1707129537787",T=await(await fetch("data.json")).text(),localStorage.setItem("data",T),localStorage.setItem("dataAge",m)),l(9,o=m),l(10,s=JSON.parse(T)),s.sort()}async function w(){l(2,u=!0);for(let d of document.querySelectorAll("tbody"))d.remove();const T=(await(await fetch("links.txt")).text()).split(`
`).map(d=>d.split(" ")),S=await Promise.all(T.map(async([d,g])=>{let k=await fetch(g);if(k.status>=400)return console.log(`Failed to fetch ${d} using ${g}`),[d,""];let _=await k.text();return[d,_]}));l(10,s=S),l(9,o=(+Date.now()).toString()),localStorage.setItem("data",JSON.stringify(S)),localStorage.setItem("dataAge",o),l(2,u=!1)}oe(v);const D=m=>l(1,a=m),N=m=>c(m),O=()=>l(1,a="");return t.$$.update=()=>{t.$$.dirty&256&&l(4,n=h.map(q)),t.$$.dirty&512&&l(5,r=new Date(+o).toLocaleString("sl-SI",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"numeric"})),t.$$.dirty&1024&&l(0,i=s.map(([m,T])=>[m,_e(fe(T)),pe(m)])),t.$$.dirty&1&&l(3,f=me(i))},[i,a,u,f,n,r,c,w,h,o,s,D,N,O]}class Te extends se{constructor(e){super(),re(this,e,be,ce,ne,{})}}export{Te as component,we as universal};
